<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>The Marvellous World!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="学一下子 Class1、java有个类，名字是Class，是一个封装类型的类（好好体会这句话）2、JVM在加载某一个类或者接口，比如是MyClass的时候，会自动创建一个Class类的对象（ClassLoader生成），这个Class的对象代表了MyClass类或接口的抽象表示（类型）3、Class这个类的对象呢，是JVM根据咱们自己写的class（Myclass）的的字节码文件建立这个类的Cla">
<meta property="og:type" content="article">
<meta property="og:title" content="java中的Class类">
<meta property="og:url" content="http://yoursite.com/2018/03/31/java中的Class类/index.html">
<meta property="og:site_name" content="The Marvellous World!">
<meta property="og:description" content="学一下子 Class1、java有个类，名字是Class，是一个封装类型的类（好好体会这句话）2、JVM在加载某一个类或者接口，比如是MyClass的时候，会自动创建一个Class类的对象（ClassLoader生成），这个Class的对象代表了MyClass类或接口的抽象表示（类型）3、Class这个类的对象呢，是JVM根据咱们自己写的class（Myclass）的的字节码文件建立这个类的Cla">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-04-02T07:34:12.826Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="java中的Class类">
<meta name="twitter:description" content="学一下子 Class1、java有个类，名字是Class，是一个封装类型的类（好好体会这句话）2、JVM在加载某一个类或者接口，比如是MyClass的时候，会自动创建一个Class类的对象（ClassLoader生成），这个Class的对象代表了MyClass类或接口的抽象表示（类型）3、Class这个类的对象呢，是JVM根据咱们自己写的class（Myclass）的的字节码文件建立这个类的Cla">
  
    <link rel="alternate" href="/atom.xml" title="The Marvellous World!" type="application/atom+xml">
  
  
    <link rel="icon" href="/images/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
<!--   <div id="banner"></div> -->

  <div id="header-outer" class="outer">
    <div id="header-title">
      <h1 id="logo-wrap">
        <a href="/" id="logo">The Marvellous World!</a>
      </h1>
    </div>
    <div id="header-inner">
      <div id="myMessage">
        <div id="photo"></div>
        <p>There are always something fantastic waiting for me!</p>
      </div>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/myself">了解我</a>
        
      </nav>
    </div>
  </div>
</header>
      <div class="outer">

        <section id="main">

<article id="post-java中的Class类" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/31/java中的Class类/" class="article-date">
  <time datetime="2018-03-31T07:26:08.000Z" itemprop="datePublished">2018-03-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/java/">java</a>►<a class="article-category-link" href="/categories/java/Class的学习/">Class的学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      java中的Class类
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
          <p>学一下子 Class<br>1、java有个类，名字是Class，是一个<strong>封装类型的类</strong>（好好体会这句话）<br>2、JVM在加载某一个类或者接口，比如是MyClass的时候，会<strong>自动创建</strong>一个Class类的对象（ClassLoader生成），这个Class的对象代表了MyClass类或接口的抽象表示（类型）<br>3、Class这个类的对象呢，是JVM根据咱们自己写的class（Myclass）的的字节码文件建立这个类的Class对象<br>就是说，Class和Myclass是平级的，Class的每个实例一一对应着咱们自己写的类，通过Class实例可以创建某个类的对象，也可以通过某个类的类名找到JVM创建的这个类的Class实例<br><a id="more"></a><br>我现在自己写了一个Myclass.java<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Myclass</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Myclass</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">Myclass my = <span class="keyword">new</span> Myclass();</span><br></pre></td></tr></table></figure></p>
<h4 id="如何获得JVM创建的这个类的Class对象呢，有三种方法"><a href="#如何获得JVM创建的这个类的Class对象呢，有三种方法" class="headerlink" title="如何获得JVM创建的这个类的Class对象呢，有三种方法"></a>如何获得JVM创建的这个类的Class对象呢，有三种方法</h4><p>1）每个类都隐藏了一个静态变量class，该变量就是存放这个类的Class实例<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class class1 = Myclass.class;</span><br></pre></td></tr></table></figure></p>
<p>2）通过getter方法获取1）中的静态实例<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class class2 = my.getClass();</span><br></pre></td></tr></table></figure></p>
<p>3）通过Class的静态方法forName<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	Class class3 = Class.forName(<span class="string">"com.tengyun.zhy.Myclass"</span>);<span class="comment">//包名 类名</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(ClassNotFoundException e) &#123;</span><br><span class="line">	e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>总结：每个类相应的Class对象是独一无二的，是类加载器生成的。当编译java文件时，JVM会将这个类的Class对象编译好，放入字节码文件中。当我们要用某个类的时候，JVM先判断内存中是否有这个类的字节码文件，没有就加载进来，然后根据字节码文件创建类对象。<br>加载某个类进内存的时候会初始化他的静态块，创建某个类的实例的时候，首先要看他是否在内存中，不在的话，先加载进来，再初始化他的非静态块。所以，若在程序中只有<code>Class child = Class.forName(&quot;Child&quot;);</code>那么就只会初始化他的静态块。（非静态块要在new一个对象的时候才执行）</p>
<h4 id="如何通过这个Class实例创建相应的类的对象呢"><a href="#如何通过这个Class实例创建相应的类的对象呢" class="headerlink" title="如何通过这个Class实例创建相应的类的对象呢"></a>如何通过这个Class实例创建相应的类的对象呢</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Class class1 = Myclass.class;<span class="comment">//先获取这个类的Class对象</span></span><br><span class="line">Myclass myclass2 = (Mycalss)class1.newInstance();<span class="comment">//通过Class对象的newInstance()方法</span></span><br></pre></td></tr></table></figure>
<p>注意：这种方法的使用前提是Myclass这个类要有一个无参构造函数，否则代码执行时会直接crash掉，因为newInstance方法会调用类Myclass的无参构造方法。而java又是如果显示定义了有参构造函数，那么就不会提供默认的无参构造函数，<strong>你还得自己写一个无参的</strong>。</p>
<p>实验的时候发现经过javac编译成.class文件后，才会生成这个类的Class对象，因为，如果我没有编译这个类，在Class.forName(“Child”);获取Class实例的时候会抛出异常ClassNotFounException，编译有.class文件后就可以获得了，所以如果生成这个类的Class对象的话，应该是类加载器根据这个类的.class文件（字节码文件）生成这个类的Class对象。<br>加载类进入内存的时候，会初始化类的静态块，而且是先初始化父类的，再初始化子类的。</p>
<p>而在用<code>B b = new B(); Class bb = b.getClass();</code>的时候(这里已经忘了要写什么了，以后想起来了再来写吧)</p>
<p>源码  打开eclipse看一下 或者这篇文章也有介绍<br><a href="http://blog.csdn.net/bingduanlbd/article/details/8424243/" target="_blank" rel="noopener">http://blog.csdn.net/bingduanlbd/article/details/8424243/</a><br>1、声明<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Class</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> </span></span><br><span class="line"><span class="class"><span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span>, <span class="title">GenericDeclaration</span>, <span class="title">Type</span>, <span class="title">AnnotatedElement</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure></p>
<p>是个final的泛型类，实现了很多接口</p>
<p>2、构造方法 ：私有的，只能由JVM创建Class对象<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     * Private constructor. Only the Java Virtual Machine creates Class objects.</span></span><br><span class="line"><span class="comment">     * This constructor is not used and prevents the default constructor being</span></span><br><span class="line"><span class="comment">     * generated.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Class</span><span class="params">(ClassLoader loader)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Initialize final field for classLoader.  The initialization value of non-null</span></span><br><span class="line">        <span class="comment">// prevents future JIT optimizations from assuming this final field is null.</span></span><br><span class="line">        classLoader = loader;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这里面的 private final ClassLoader classLoader；是个私有最终的ClassLoader对象，只能被初始化一次，而且必须在构造函数中完成初始化。</p>
<p>3、<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">registerNatives</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure></p>
<p>4、<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (isInterface() ? <span class="string">"interface "</span> : (isPrimitive() ? <span class="string">""</span> : <span class="string">"class "</span>))</span><br><span class="line">            + getName();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="利用类的class对象使用类"><a href="#利用类的class对象使用类" class="headerlink" title="利用类的class对象使用类"></a>利用类的class对象使用类</h3><h5 id="1、创建对象"><a href="#1、创建对象" class="headerlink" title="1、创建对象"></a>1、创建对象</h5><h5 id="2、调用方法"><a href="#2、调用方法" class="headerlink" title="2、调用方法"></a>2、调用方法</h5><h5 id="3、"><a href="#3、" class="headerlink" title="3、"></a>3、</h5><h5 id="4、"><a href="#4、" class="headerlink" title="4、"></a>4、</h5>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/03/31/java中的Class类/" data-id="cjfp2hfh9000qcgvaxm6i8ajf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/04/02/Sql中的truncate、drop和delete/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Sql中的truncate、drop和delete
        
      </div>
    </a>
  
  
    <a href="/2018/03/31/MySql的运行原理及架构/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">MySql的运行原理及架构</div>
    </a>
  
</nav>

  
</article>


</section>

        
          
<aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/IDEA/">IDEA</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/IDEA/SpringBoot/">SpringBoot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDEA/Tomcat/">Tomcat</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/基础知识/">基础知识</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/文件系统/">文件系统</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySql/">MySql</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/MySql/权限控制/">权限控制</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySql/运行原理及架构/">运行原理及架构</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/SQL/">SQL</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/SQL/delete-truncate-drop/">delete truncate drop</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringBoot/">SpringBoot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">10</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/Class的学习/">Class的学习</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/java8/">java8</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/java/java8/Lambda表达式/">Lambda表达式</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/volatile/">volatile</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/包结构/">包结构</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/异常的使用/">异常的使用</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/数组/">数组</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/输入输出流/">输入输出流</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/重写和重载/">重写和重载</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/language/">language</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/language/MD语法/">MD语法</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/操作系统/">操作系统</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/操作系统/基本知识/">基本知识</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/">数据结构</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/基础知识/">基础知识</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/算法概念/">算法概念</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/日志/">日志</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/日志/log4j/">log4j</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/算法/排序算法/">排序算法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/深度优先/">深度优先</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机基础/">计算机基础</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/计算机基础/编码规则/">编码规则</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机基础/计算机的组成部分/">计算机的组成部分</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a><span class="category-list-count">10</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/代理模式/">代理模式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/原型模式/">原型模式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/外观模式/">外观模式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/工厂方法模式/">工厂方法模式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/建造者模式/">建造者模式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/模板方法模式/">模板方法模式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/策略模式/">策略模式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/简单工厂模式/">简单工厂模式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/装饰模式/">装饰模式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/设计原则/">设计原则</a><span class="category-list-count">1</span></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/强制转换/">强制转换</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">tagcloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/强制转换/" style="font-size: 10px;">强制转换</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">archive_a</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">34</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">recent_posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/04/07/log4j的学习/">log4j的学习</a>
          </li>
        
          <li>
            <a href="/2018/04/04/Springboot的学习/">Springboot的学习</a>
          </li>
        
          <li>
            <a href="/2018/04/02/Mysql命名规范/">Mysql命名规范</a>
          </li>
        
          <li>
            <a href="/2018/04/02/Sql中的truncate、drop和delete/">Sql中的truncate、drop和delete</a>
          </li>
        
          <li>
            <a href="/2018/03/31/java中的Class类/">java中的Class类</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 滕云(Catherine)<br>
      电话 13920041397 <br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/myself" class="mobile-nav-link">了解我</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>